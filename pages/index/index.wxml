<view class="container" bindtap="hidePanel">
  <view class='loading' wx:if="{{!generateOk}}">
    <import src="/pages/components/loading/loading" />
    <template is="loading" />
  </view>

   <view class='toolTip' style="top: {{sudokuEdge - 14}}px">{{toolTip.content}}</view> 

  <view class="title">9x9数独生成器</view>
  <view class="sudoku">
    <view wx:for="{{data}}" wx:key="" class="row">
      <block wx:key="" wx:for="{{item}}">
        <!-- rcl: row cross line 行与列光标香蕉 -->
        <view class="{{item.show ? (item.duplicate[0] ? 'box duplicate' : 'box show') : 'box blank'}}" data-value='{{item.value}}' data-x="{{item.x}}" data-y="{{item.y}}" data-show="{{item.show}}" catchtap='tapBox' style="width: {{boxSize}}px; height: {{boxSize}}px;">
          <!-- <text wx:if='{{item}}'>{{item}}</text>
          <input wx:else /> -->
          <view class="{{item.rcl ? 'rcl' : ''}}"></view>
          <text class="{{item.showSame ? 'showSame' : ''}}"> {{item.show ? item.value : (item.fill || '')}}</text>
        </view>
      </block>
    </view>
  </view>
  <view>

  </view>

  <view wx:if="{{init}}" class="btnGroup">
    <button class="generate" disabled="{{btnDisabled}}" catchtap="handleGenerateSudoku">重新生成</button>
    <button class="{{shade ? 'cancleShade' : 'shade'}}" catchtap="toggleShade">{{shade ? '查看谜底' : '随机遮挡'}}</button>
  </view>
</view>

<!-- 浮层 -->
<view class='panel' style="top: {{panelPosition.dy}}px; left: {{panelPosition.dx}}px;" animation="{{panelShowAnimation}}">
  <block wx:for="{{panelData}}" wx:key>
    <view catchtap='panelTap' data-value="{{item}}">{{item}}</view>
  </block>
</view>